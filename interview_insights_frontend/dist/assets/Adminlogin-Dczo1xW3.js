import{r as l,u as c,a as f,b as g,j as a}from"./index-7-2mgnDc.js";import{C as x}from"./Container-Dr3fSns8.js";import{B as j,T as y}from"./Box-CTjzldOl.js";import{T as d}from"./TextField-BrNPR9uc.js";import{B as b}from"./Button-DBV7v9Jq.js";import{C as v}from"./CircularProgress-YnoFKpnV.js";import{A as C}from"./Alert-BuABxkTk.js";import"./useThemeProps-DKLb6pSW.js";import"./List-x0N1r-mi.js";import"./useSlot-tFV6G7mG.js";import"./IconButton-Cr1Dw-hb.js";const N=()=>{const[t,u]=l.useState({email:"",password:""}),p=c(),e=f(),{loading:s,error:o,role:i}=g(r=>r.auth),n=r=>{u({...t,[r.target.name]:r.target.value})};l.useEffect(()=>{i&&i==="admin"&&e("/admindashboard")},[i,e]);const h=async r=>{r.preventDefault(),p(adminLogin(t)).then(m=>{m.payload&&m.payload.role==="admin"&&e("/admindashboard")})};return a.jsx(x,{maxWidth:"sm",children:a.jsxs(j,{sx:{mt:4},children:[a.jsx(y,{variant:"h4",align:"center",gutterBottom:!0,children:"Admin Login"}),a.jsxs("form",{onSubmit:h,children:[a.jsx(d,{margin:"normal",fullWidth:!0,name:"email",label:"Email",type:"email",value:t.email,onChange:n,required:!0}),a.jsx(d,{margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",value:t.password,onChange:n,required:!0}),a.jsx(b,{variant:"contained",fullWidth:!0,sx:{mt:2},type:"submit",disabled:s,children:s?a.jsx(v,{size:24}):"Login"})]}),o&&a.jsx(C,{severity:"error",sx:{mt:2},children:JSON.stringify(o)})]})})};export{N as default};
