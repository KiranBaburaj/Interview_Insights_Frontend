import{r as l,u as c,a as f,b as g,j as a}from"./index-DSnL7-iu.js";import{C as x}from"./Container-DEkqFEjr.js";import{B as j,T as y}from"./Box-C-1FhN2f.js";import{T as d}from"./TextField-B9bqOITb.js";import{B as b}from"./Button-Dq6K9lQh.js";import{C as v}from"./CircularProgress-CPkllQtr.js";import{A as C}from"./Alert-C0wi5gvV.js";import"./useThemeProps-9kYSu9O9.js";import"./List-BwbNNtoy.js";import"./useSlot-BDGQsooM.js";import"./IconButton-4pwRuVfJ.js";const N=()=>{const[t,u]=l.useState({email:"",password:""}),p=c(),e=f(),{loading:s,error:o,role:i}=g(r=>r.auth),n=r=>{u({...t,[r.target.name]:r.target.value})};l.useEffect(()=>{i&&i==="admin"&&e("/admindashboard")},[i,e]);const h=async r=>{r.preventDefault(),p(adminLogin(t)).then(m=>{m.payload&&m.payload.role==="admin"&&e("/admindashboard")})};return a.jsx(x,{maxWidth:"sm",children:a.jsxs(j,{sx:{mt:4},children:[a.jsx(y,{variant:"h4",align:"center",gutterBottom:!0,children:"Admin Login"}),a.jsxs("form",{onSubmit:h,children:[a.jsx(d,{margin:"normal",fullWidth:!0,name:"email",label:"Email",type:"email",value:t.email,onChange:n,required:!0}),a.jsx(d,{margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",value:t.password,onChange:n,required:!0}),a.jsx(b,{variant:"contained",fullWidth:!0,sx:{mt:2},type:"submit",disabled:s,children:s?a.jsx(v,{size:24}):"Login"})]}),o&&a.jsx(C,{severity:"error",sx:{mt:2},children:JSON.stringify(o)})]})})};export{N as default};
