import{u as g,b as c,a6 as y,a7 as D,r as n,a8 as f,j as e,R as C,a9 as E}from"./index-23KSCkf2.js";import{A}from"./AdminNavbar-DAbTXmqd.js";import{B as p,T as d}from"./Box-XM2tYgUZ.js";import{L as v,B as m}from"./List-BX7Kqnf-.js";import{L as B}from"./ListItem-DX07DTAE.js";import{A as b}from"./Avatar-BfffLGXU.js";import{B as L}from"./Business-BUenN125.js";import{L as T,C as k}from"./ListItemText-C5hHyjxw.js";import{D as I}from"./Divider-J8XmDzXG.js";import{D as S,a as R,b as w}from"./DialogContent-BCp0Gu2G.js";import{D as M}from"./DialogTitle-CxkyU1YB.js";import{D as O}from"./DialogContentText-BA3aDugb.js";import{C as z}from"./CircularProgress-BoXx89RB.js";import{A as F}from"./Alert-lwXFv0UO.js";import"./ExitToApp-Cq2wJhaG.js";import"./Business-CmZDzxTE.js";import"./useSlot-mVqb9SJL.js";import"./listItemTextClasses-C2fmnH8s.js";import"./dividerClasses-CWvG6tR0.js";import"./IconButton-B9EPIKEN.js";const G=()=>{const s=g(),t=c(y),o=c(D),[a,i]=n.useState(!1),[x,l]=n.useState(null);n.useEffect(()=>{s(f())},[s]);const u=r=>{l(r),i(!0)},j=()=>{x&&s(E(x)).then(()=>{s(f())}),i(!1),l(null)},h=()=>{i(!1),l(null)};return e.jsxs(p,{sx:{maxWidth:800,mx:"auto",mt:4,p:2,backgroundColor:"#f9f9f9",borderRadius:2},children:[e.jsx(v,{children:t.map(r=>e.jsxs(C.Fragment,{children:[e.jsxs(B,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(b,{sx:{bgcolor:"secondary.main",width:56,height:56},children:e.jsx(L,{fontSize:"large"})}),e.jsx(T,{primary:e.jsx(d,{variant:"h6",children:r.user.full_name}),secondary:`Email: ${r.user.email}`,sx:{flex:"1 1 auto"}}),e.jsx(m,{variant:"contained",color:"error",onClick:()=>u(r.user.id),children:"Delete"})]}),e.jsx(I,{})]},r.user.id))}),o&&e.jsxs(d,{color:"error",children:["Error loading employers: ",o]}),e.jsxs(S,{open:a,onClose:h,children:[e.jsx(M,{children:"Confirm Deletion"}),e.jsx(R,{children:e.jsx(O,{children:"Are you sure you want to delete this employer? This action cannot be undone."})}),e.jsxs(w,{children:[e.jsx(m,{onClick:h,color:"primary",children:"Cancel"}),e.jsx(m,{onClick:j,color:"error",children:"Delete"})]})]})]})},ae=()=>{const{employers:s,loading:t,error:o}=c(a=>a.auth);return e.jsxs(p,{sx:{display:"flex"},children:[e.jsx(k,{}),e.jsx(A,{}),e.jsxs(p,{component:"main",sx:{flexGrow:1,p:3},children:[e.jsx(d,{variant:"h4",align:"center",gutterBottom:!0,children:"Employers"}),t&&e.jsx(z,{}),o&&e.jsx(F,{severity:"error",children:o}),e.jsx(G,{})]})]})};export{ae as default};
