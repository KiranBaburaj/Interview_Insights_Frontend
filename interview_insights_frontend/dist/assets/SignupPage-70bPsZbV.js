import{r as m,u as F,a as P,b as T,c as b,j as e,L as v,d as I}from"./index-CcN-DTrd.js";import{G as L}from"./GoogleLoginButton-D8PZ1LEX.js";import{C as W}from"./Container-CZU7XU3J.js";import{B as n,T as d}from"./Box-DuwEP3sn.js";import{A as _}from"./Avatar-BvQvziBJ.js";import{P as B}from"./List-f2p8LFRy.js";import{T as u,F as D,I as q,S as O}from"./TextField-SyRqpSkH.js";import{M as y}from"./MenuItem-B67srvV4.js";import{B as G}from"./Button-B4HMTSQ_.js";import{C as M}from"./CircularProgress-DKiJi9Ig.js";import{L as N}from"./Link-Bss5BA9q.js";import{S as R}from"./Snackbar-CP-zon6U.js";import{A as U}from"./Alert-B1oCD7o-.js";import"./useThemeProps-D2YwAPTy.js";import"./useSlot-DPsh2MPD.js";import"./dividerClasses-DNCfh70r.js";import"./listItemTextClasses-Cw1BmV-b.js";import"./IconButton-CaigptHL.js";const z=()=>{const[a,C]=m.useState({email:"",password:"",full_name:"",role:"job_seeker"}),l=F(),o=P(),{loading:c,error:t,role:s}=T(r=>r.auth),[S,p]=m.useState(!1);m.useEffect(()=>{s&&(s==="jobseeker"?o("/dashboard/jobseeker"):s==="employer"?o("/EmployerCompanyManagement"):s==="recruiter"?o("/dashboard/recruiter"):s==="admin"&&o("/admindashboard"))},[s,o]),m.useEffect(()=>{if(t){p(!0);const r=setTimeout(()=>{l(b())},5e3);return()=>clearTimeout(r)}},[t,l]);const i=r=>{C({...a,[r.target.name]:r.target.value})},w=async r=>{r.preventDefault();const{email:x,password:f,full_name:g,role:j}=a;if(!x||!f||!g||!j){alert("All fields are required");return}const E={user:{email:x,password:f,full_name:g},role:j};try{await l(I(E)).unwrap(),o("/verify-otp")}catch(k){console.error("Failed to send OTP:",k)}},A="/logo.PNG",h=()=>{p(!1),l(b())};return e.jsxs(W,{component:"main",maxWidth:"xs",children:[e.jsxs(n,{sx:{mt:8,textAlign:"center"},children:[e.jsx(v,{to:"/",style:{textDecoration:"none"},children:e.jsx(_,{src:A,sx:{width:56,height:56,margin:"auto"}})}),e.jsx(d,{component:"h1",variant:"h5",sx:{mt:2},children:"Welcome to Interview Insights"})]}),e.jsx(n,{sx:{mt:2},children:e.jsxs(B,{elevation:3,sx:{p:4},children:[e.jsx(n,{sx:{mt:2},children:e.jsx(L,{})}),e.jsx(d,{component:"h1",variant:"h5",align:"center",gutterBottom:!0,children:"Sign Up"}),e.jsxs(n,{component:"form",onSubmit:w,sx:{mt:2},children:[e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,id:"full_name",label:"Full Name",name:"full_name",autoComplete:"name",autoFocus:!0,value:a.full_name,onChange:i}),e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:a.email,onChange:i}),e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:a.password,onChange:i}),e.jsxs(D,{fullWidth:!0,margin:"normal",children:[e.jsx(q,{id:"role-label",children:"Role"}),e.jsxs(O,{labelId:"role-label",id:"role",name:"role",value:a.role,onChange:i,label:"Role",children:[e.jsx(y,{value:"job_seeker",children:"Job Seeker"}),e.jsx(y,{value:"employer",children:"Employer"})]})]}),e.jsx(G,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:c,children:c?e.jsx(M,{size:24}):"Sign Up"})]}),e.jsx(n,{sx:{mt:2,textAlign:"center"},children:e.jsxs(d,{variant:"body2",children:["Already have an account?"," ",e.jsx(N,{component:v,to:"/login",variant:"body2",children:"Log in"})]})})]})}),e.jsx(R,{open:S,autoHideDuration:5e3,onClose:h,anchorOrigin:{vertical:"top",horizontal:"left"},children:e.jsx(U,{onClose:h,severity:"error",sx:{width:"100%"},children:t!=null&&t.detail?t.detail:"An error occurred."})})]})},me=()=>e.jsx("div",{children:e.jsx(z,{})});export{me as default};
