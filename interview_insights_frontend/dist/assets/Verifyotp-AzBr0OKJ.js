import{r as a,u as b,a as A,b as E,j as e,c as o,v as f,e as I}from"./index-DFmL8WO5.js";import{C as V}from"./Container-BJUOACN2.js";import{B as n,T as x}from"./Box-wyLF954P.js";import{A as w}from"./Avatar-Bbf_TFwD.js";import{P as R,B as g}from"./List-CBfMsscO.js";import{T as W}from"./TextField-CdW0niOW.js";import{C as j}from"./CircularProgress-BAAwtaSQ.js";import{S as B}from"./Snackbar-C8IKSH2Q.js";import{A as z}from"./Alert-B5o9h8JR.js";import{A as D}from"./AlertTitle-YnMLM9Sy.js";import"./useThemeProps-Y4hyjhcU.js";import"./useSlot-DZ4VWrJ2.js";import"./IconButton-B044J5JR.js";const Y=()=>{const[i,v]=a.useState(""),r=b(),T=A(),{loading:l,error:s}=E(t=>t.auth),[P,c]=a.useState(!1),[d,m]=a.useState(!1),[u,h]=a.useState(!1),y=t=>{v(t.target.value)},O=async t=>{t.preventDefault(),m(!0),r(o());const S=await r(f({otp:i}));f.fulfilled.match(S)?T("/login"):c(!0),m(!1)},p=()=>{c(!1),r(o())},C=async()=>{const t=localStorage.getItem("user_id");t&&(h(!0),r(o()),await r(I({user_id:t})),h(!1))};return e.jsxs(V,{component:"main",maxWidth:"xs",children:[e.jsxs(n,{sx:{mt:8,textAlign:"center"},children:[e.jsx(w,{src:"/logo.PNG",sx:{width:56,height:56,margin:"auto"}}),e.jsx(x,{component:"h1",variant:"h5",sx:{mt:2},children:"Welcome to Interview Insights"})]}),e.jsx(n,{sx:{mt:2},children:e.jsxs(R,{elevation:3,sx:{p:4},children:[e.jsx(x,{component:"h1",variant:"h5",align:"center",children:"Verify OTP"}),e.jsxs(n,{component:"form",onSubmit:O,sx:{mt:1},children:[e.jsx(W,{margin:"normal",required:!0,fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp",value:i,onChange:y}),e.jsx(g,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:d||l,children:d?e.jsx(j,{size:24}):"Verify OTP"})]}),e.jsx(g,{fullWidth:!0,variant:"outlined",sx:{mt:1},onClick:C,disabled:u||l,children:u?e.jsx(j,{size:24}):"Resend OTP"})]})}),e.jsx(B,{open:P,autoHideDuration:5e3,onClose:p,anchorOrigin:{vertical:"top",horizontal:"left"},children:e.jsxs(z,{onClose:p,severity:"error",sx:{width:"100%"},children:[e.jsx(D,{children:"Error"}),s!=null&&s.error?s.error:""]})})]})};export{Y as default};
