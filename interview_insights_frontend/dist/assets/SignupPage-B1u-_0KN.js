import{r as m,u as F,a as P,b as T,c as b,j as e,L as v,d as I}from"./index-bGYT25wZ.js";import{G as L}from"./GoogleLoginButton-DJPqhADf.js";import{C as W}from"./Container-dy5BwHIB.js";import{B as n,T as d}from"./Box-C7FEM3NL.js";import{A as _}from"./Avatar-CBFG6Ddh.js";import{P as B,B as D}from"./List-D74dhkXP.js";import{T as u,F as q,I as O,S as G}from"./TextField-BYB5Qg8x.js";import{M as y}from"./MenuItem-B90v413L.js";import{C as M}from"./CircularProgress-DKE4RjWq.js";import{L as N}from"./Link-BHUOMpAC.js";import{S as R}from"./Snackbar-BKXculAC.js";import{A as U}from"./Alert-ChBBo_zY.js";import"./useThemeProps-kGATZQtu.js";import"./useSlot-CNXxXkOI.js";import"./dividerClasses-HgKa27Ig.js";import"./listItemTextClasses-Cm7N65T6.js";import"./IconButton-DJYvWjlu.js";const z=()=>{const[a,C]=m.useState({email:"",password:"",full_name:"",role:"job_seeker"}),l=F(),t=P(),{loading:c,error:o,role:s}=T(r=>r.auth),[S,p]=m.useState(!1);m.useEffect(()=>{s&&(s==="jobseeker"?t("/dashboard/jobseeker"):s==="employer"?t("/EmployerCompanyManagement"):s==="recruiter"?t("/dashboard/recruiter"):s==="admin"&&t("/admindashboard"))},[s,t]),m.useEffect(()=>{if(o){p(!0);const r=setTimeout(()=>{l(b())},5e3);return()=>clearTimeout(r)}},[o,l]);const i=r=>{C({...a,[r.target.name]:r.target.value})},w=async r=>{r.preventDefault();const{email:x,password:f,full_name:g,role:j}=a;if(!x||!f||!g||!j){alert("All fields are required");return}const E={user:{email:x,password:f,full_name:g},role:j};try{await l(I(E)).unwrap(),t("/verify-otp")}catch(k){console.error("Failed to send OTP:",k)}},A="/logo.PNG",h=()=>{p(!1),l(b())};return e.jsxs(W,{component:"main",maxWidth:"xs",children:[e.jsxs(n,{sx:{mt:8,textAlign:"center"},children:[e.jsx(v,{to:"/",style:{textDecoration:"none"},children:e.jsx(_,{src:A,sx:{width:56,height:56,margin:"auto"}})}),e.jsx(d,{component:"h1",variant:"h5",sx:{mt:2},children:"Welcome to Interview Insights"})]}),e.jsx(n,{sx:{mt:2},children:e.jsxs(B,{elevation:3,sx:{p:4},children:[e.jsx(n,{sx:{mt:2},children:e.jsx(L,{})}),e.jsx(d,{component:"h1",variant:"h5",align:"center",gutterBottom:!0,children:"Sign Up"}),e.jsxs(n,{component:"form",onSubmit:w,sx:{mt:2},children:[e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,id:"full_name",label:"Full Name",name:"full_name",autoComplete:"name",autoFocus:!0,value:a.full_name,onChange:i}),e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:a.email,onChange:i}),e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:a.password,onChange:i}),e.jsxs(q,{fullWidth:!0,margin:"normal",children:[e.jsx(O,{id:"role-label",children:"Role"}),e.jsxs(G,{labelId:"role-label",id:"role",name:"role",value:a.role,onChange:i,label:"Role",children:[e.jsx(y,{value:"job_seeker",children:"Job Seeker"}),e.jsx(y,{value:"employer",children:"Employer"})]})]}),e.jsx(D,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:c,children:c?e.jsx(M,{size:24}):"Sign Up"})]}),e.jsx(n,{sx:{mt:2,textAlign:"center"},children:e.jsxs(d,{variant:"body2",children:["Already have an account?"," ",e.jsx(N,{component:v,to:"/login",variant:"body2",children:"Log in"})]})})]})}),e.jsx(R,{open:S,autoHideDuration:5e3,onClose:h,anchorOrigin:{vertical:"top",horizontal:"left"},children:e.jsx(U,{onClose:h,severity:"error",sx:{width:"100%"},children:o!=null&&o.detail?o.detail:"An error occurred."})})]})},ie=()=>e.jsx("div",{children:e.jsx(z,{})});export{ie as default};
