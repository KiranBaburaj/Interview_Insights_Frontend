import{u as g,b as c,a6 as y,a7 as D,r as n,a8 as f,j as e,R as C,a9 as E}from"./index-DUDX3Ajl.js";import{A}from"./AdminNavbar-B2R7MdQe.js";import{B as p,T as d}from"./Box-CX6yi0ex.js";import{L as v,B as m}from"./List-CYxS8EUD.js";import{L as B}from"./ListItem-DjIW__1f.js";import{A as b}from"./Avatar-DIc3b4Xy.js";import{B as L}from"./Business-BlurZWSR.js";import{L as T,C as k}from"./ListItemText-of3f6PyT.js";import{D as I}from"./Divider-DtjkjzNS.js";import{D as S,a as R,b as w}from"./DialogContent-C91f81_t.js";import{D as M}from"./DialogTitle-BbJeQb8t.js";import{D as O}from"./DialogContentText-BXlkUq8M.js";import{C as z}from"./CircularProgress-BRSkXD7J.js";import{A as F}from"./Alert-DiG2Gfi3.js";import"./ExitToApp-HxDya_-v.js";import"./Business-CQNqlsl1.js";import"./useSlot-o0Dn86vS.js";import"./listItemTextClasses-D5Jrv4-8.js";import"./dividerClasses-BjIB3fZJ.js";import"./IconButton-DW_N13RB.js";const G=()=>{const s=g(),t=c(y),o=c(D),[a,i]=n.useState(!1),[x,l]=n.useState(null);n.useEffect(()=>{s(f())},[s]);const u=r=>{l(r),i(!0)},j=()=>{x&&s(E(x)).then(()=>{s(f())}),i(!1),l(null)},h=()=>{i(!1),l(null)};return e.jsxs(p,{sx:{maxWidth:800,mx:"auto",mt:4,p:2,backgroundColor:"#f9f9f9",borderRadius:2},children:[e.jsx(v,{children:t.map(r=>e.jsxs(C.Fragment,{children:[e.jsxs(B,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(b,{sx:{bgcolor:"secondary.main",width:56,height:56},children:e.jsx(L,{fontSize:"large"})}),e.jsx(T,{primary:e.jsx(d,{variant:"h6",children:r.user.full_name}),secondary:`Email: ${r.user.email}`,sx:{flex:"1 1 auto"}}),e.jsx(m,{variant:"contained",color:"error",onClick:()=>u(r.user.id),children:"Delete"})]}),e.jsx(I,{})]},r.user.id))}),o&&e.jsxs(d,{color:"error",children:["Error loading employers: ",o]}),e.jsxs(S,{open:a,onClose:h,children:[e.jsx(M,{children:"Confirm Deletion"}),e.jsx(R,{children:e.jsx(O,{children:"Are you sure you want to delete this employer? This action cannot be undone."})}),e.jsxs(w,{children:[e.jsx(m,{onClick:h,color:"primary",children:"Cancel"}),e.jsx(m,{onClick:j,color:"error",children:"Delete"})]})]})]})},ae=()=>{const{employers:s,loading:t,error:o}=c(a=>a.auth);return e.jsxs(p,{sx:{display:"flex"},children:[e.jsx(k,{}),e.jsx(A,{}),e.jsxs(p,{component:"main",sx:{flexGrow:1,p:3},children:[e.jsx(d,{variant:"h4",align:"center",gutterBottom:!0,children:"Employers"}),t&&e.jsx(z,{}),o&&e.jsx(F,{severity:"error",children:o}),e.jsx(G,{})]})]})};export{ae as default};
