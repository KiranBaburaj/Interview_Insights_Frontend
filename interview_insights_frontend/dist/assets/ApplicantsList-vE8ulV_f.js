import{r as x,f as u,_ as $,j as e,A as R,F as re,E as U,H as ae,I as ne,aa as ie,u as le,b as B,a as de,n as J,aq as ce,ai as pe}from"./index-7-2mgnDc.js";import{d as he}from"./Search-Cj_VlT-2.js";import{d as xe}from"./FilterList-BbxydCMA.js";import{E as ue}from"./EmployerNavbar-BOGE7jhy.js";import{u as je}from"./useMediaQuery-D6MqTMK-.js";import{g as A,a as M,s as H,u as D,c as N,b as S,B as C,T as i}from"./Box-CTjzldOl.js";import{C as be}from"./CircularProgress-YnoFKpnV.js";import{T as me}from"./ThemeProvider-FnM7MbRd.js";import{C as ve}from"./ListItemText-DbOemeAA.js";import{C as ge}from"./Container-Dr3fSns8.js";import{C as G,a as q}from"./CardContent-lF2E2Wmf.js";import{T as fe,S as Q}from"./TextField-BrNPR9uc.js";import{I as ye}from"./IconButton-Cr1Dw-hb.js";import{D as W}from"./Divider-DNQaKhKR.js";import{G as X}from"./Grid-CkNH6t9k.js";import{A as F}from"./Avatar-CD2s688e.js";import{M as v}from"./MenuItem-C62xmuNb.js";import{B as f}from"./Button-DBV7v9Jq.js";import{P as Ce}from"./List-x0N1r-mi.js";import{D as _e,a as ke,b as we}from"./DialogContent-BivN1rae.js";import{D as Te}from"./DialogTitle-DYaf8eWc.js";import"./ExitToApp-Bj4CSGd-.js";import"./Business-CvMi5PZV.js";import"./NotificationList--NPEsJ9e.js";import"./notificationWebSocket-C-54nP-w.js";import"./Snackbar-Bz-1khUd.js";import"./ListItem-C5xdFMiH.js";import"./useThemeProps-DKLb6pSW.js";import"./listItemTextClasses-Cv48EgxI.js";import"./dividerClasses-CwC1-alD.js";import"./useSlot-tFV6G7mG.js";const oe=x.createContext();function Re(s){return A("MuiTable",s)}M("MuiTable",["root","stickyHeader"]);const $e=["className","component","padding","size","stickyHeader"],Ae=s=>{const{classes:t,stickyHeader:r}=s;return S({root:["root",r&&"stickyHeader"]},Re,t)},Me=H("table",{name:"MuiTable",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:r}=s;return[t.root,r.stickyHeader&&t.stickyHeader]}})(({theme:s,ownerState:t})=>u({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":u({},s.typography.body2,{padding:s.spacing(2),color:(s.vars||s).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),K="table",He=x.forwardRef(function(t,r){const n=D({props:t,name:"MuiTable"}),{className:p,component:l=K,padding:d="normal",size:c="medium",stickyHeader:h=!1}=n,a=$(n,$e),m=u({},n,{component:l,padding:d,size:c,stickyHeader:h}),_=Ae(m),T=x.useMemo(()=>({padding:d,size:c,stickyHeader:h}),[d,c,h]);return e.jsx(oe.Provider,{value:T,children:e.jsx(Me,u({as:l,role:l===K?null:"table",ref:r,className:N(_.root,p),ownerState:m},a))})}),E=x.createContext();function De(s){return A("MuiTableBody",s)}M("MuiTableBody",["root"]);const Ne=["className","component"],Se=s=>{const{classes:t}=s;return S({root:["root"]},De,t)},Pe=H("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(s,t)=>t.root})({display:"table-row-group"}),ze={variant:"body"},V="tbody",Ie=x.forwardRef(function(t,r){const n=D({props:t,name:"MuiTableBody"}),{className:p,component:l=V}=n,d=$(n,Ne),c=u({},n,{component:l}),h=Se(c);return e.jsx(E.Provider,{value:ze,children:e.jsx(Pe,u({className:N(h.root,p),as:l,ref:r,role:l===V?null:"rowgroup",ownerState:c},d))})});function Be(s){return A("MuiTableCell",s)}const Ue=M("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Ee=["align","className","component","padding","scope","size","sortDirection","variant"],Le=s=>{const{classes:t,variant:r,align:n,padding:p,size:l,stickyHeader:d}=s,c={root:["root",r,d&&"stickyHeader",n!=="inherit"&&`align${R(n)}`,p!=="normal"&&`padding${R(p)}`,`size${R(l)}`]};return S(c,Be,t)},We=H("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:r}=s;return[t.root,t[r.variant],t[`size${R(r.size)}`],r.padding!=="normal"&&t[`padding${R(r.padding)}`],r.align!=="inherit"&&t[`align${R(r.align)}`],r.stickyHeader&&t.stickyHeader]}})(({theme:s,ownerState:t})=>u({},s.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:s.vars?`1px solid ${s.vars.palette.TableCell.border}`:`1px solid
    ${s.palette.mode==="light"?re(U(s.palette.divider,1),.88):ae(U(s.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(s.vars||s).palette.text.primary,lineHeight:s.typography.pxToRem(24),fontWeight:s.typography.fontWeightMedium},t.variant==="body"&&{color:(s.vars||s).palette.text.primary},t.variant==="footer"&&{color:(s.vars||s).palette.text.secondary,lineHeight:s.typography.pxToRem(21),fontSize:s.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${Ue.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(s.vars||s).palette.background.default})),j=x.forwardRef(function(t,r){const n=D({props:t,name:"MuiTableCell"}),{align:p="inherit",className:l,component:d,padding:c,scope:h,size:a,sortDirection:m,variant:_}=n,T=$(n,Ee),g=x.useContext(oe),k=x.useContext(E),P=k&&k.variant==="head";let y;d?y=d:y=P?"th":"td";let o=h;y==="td"?o=void 0:!o&&P&&(o="col");const b=_||k&&k.variant,w=u({},n,{align:p,component:y,padding:c||(g&&g.padding?g.padding:"normal"),size:a||(g&&g.size?g.size:"medium"),sortDirection:m,stickyHeader:b==="head"&&g&&g.stickyHeader,variant:b}),I=Le(w);let z=null;return m&&(z=m==="asc"?"ascending":"descending"),e.jsx(We,u({as:y,ref:r,className:N(I.root,l),"aria-sort":z,scope:o,ownerState:w},T))});function Fe(s){return A("MuiTableContainer",s)}M("MuiTableContainer",["root"]);const Oe=["className","component"],Je=s=>{const{classes:t}=s;return S({root:["root"]},Fe,t)},Ge=H("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(s,t)=>t.root})({width:"100%",overflowX:"auto"}),qe=x.forwardRef(function(t,r){const n=D({props:t,name:"MuiTableContainer"}),{className:p,component:l="div"}=n,d=$(n,Oe),c=u({},n,{component:l}),h=Je(c);return e.jsx(Ge,u({ref:r,as:l,className:N(h.root,p),ownerState:c},d))});function Qe(s){return A("MuiTableHead",s)}M("MuiTableHead",["root"]);const Xe=["className","component"],Ke=s=>{const{classes:t}=s;return S({root:["root"]},Qe,t)},Ve=H("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(s,t)=>t.root})({display:"table-header-group"}),Ye={variant:"head"},Y="thead",Ze=x.forwardRef(function(t,r){const n=D({props:t,name:"MuiTableHead"}),{className:p,component:l=Y}=n,d=$(n,Xe),c=u({},n,{component:l}),h=Ke(c);return e.jsx(E.Provider,{value:Ye,children:e.jsx(Ve,u({as:l,className:N(h.root,p),ref:r,role:l===Y?null:"rowgroup",ownerState:c},d))})});function es(s){return A("MuiTableRow",s)}const Z=M("MuiTableRow",["root","selected","hover","head","footer"]),ss=["className","component","hover","selected"],ts=s=>{const{classes:t,selected:r,hover:n,head:p,footer:l}=s;return S({root:["root",r&&"selected",n&&"hover",p&&"head",l&&"footer"]},es,t)},os=H("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:r}=s;return[t.root,r.head&&t.head,r.footer&&t.footer]}})(({theme:s})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Z.hover}:hover`]:{backgroundColor:(s.vars||s).palette.action.hover},[`&.${Z.selected}`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / ${s.vars.palette.action.selectedOpacity})`:U(s.palette.primary.main,s.palette.action.selectedOpacity),"&:hover":{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / calc(${s.vars.palette.action.selectedOpacity} + ${s.vars.palette.action.hoverOpacity}))`:U(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.hoverOpacity)}}})),ee="tr",se=x.forwardRef(function(t,r){const n=D({props:t,name:"MuiTableRow"}),{className:p,component:l=ee,hover:d=!1,selected:c=!1}=n,h=$(n,ss),a=x.useContext(E),m=u({},n,{component:l,hover:d,selected:c,head:a&&a.variant==="head",footer:a&&a.variant==="footer"}),_=ts(m);return e.jsx(os,u({as:l,ref:r,className:N(_.root,p),role:l===ee?null:"row",ownerState:m},h))}),te=ne({palette:{primary:{main:"#00796b"},secondary:{main:"#b2dfdb"},text:{primary:"#212121",secondary:"#757575"}},typography:{fontFamily:"Roboto, sans-serif",h6:{fontFamily:"Montserrat, sans-serif",fontWeight:"bold"}}}),Ps=()=>{const{jobId:s}=ie(),t=le(),r=B(o=>o.applicants.applicants),n=B(o=>o.applicants.status),p=B(o=>o.applicants.error),l=de(),d=B(o=>o.auth.userid),[c,h]=x.useState(!1),[a,m]=x.useState(null),_=je(te.breakpoints.down("sm"));x.useEffect(()=>{t(J(s))},[t,s]);const T=(o,b)=>{t(ce({applicantId:o,status:b})).then(()=>{t(J(s))})},g=o=>{o&&d&&t(pe({jobseekerId:o,employerId:d})).unwrap().then(()=>{l("/Employer/chat")}).catch(b=>{console.error("Failed to create chat room:",b)})},k=o=>{window.open(`https://www.interview-insights.site${o}`,"_blank")},P=o=>{m(o),h(!0)},y=()=>{h(!1),m(null)};return n==="loading"?e.jsx(C,{sx:{textAlign:"center",mt:4},children:e.jsx(be,{})}):n==="failed"?e.jsx(C,{sx:{textAlign:"center",mt:4},children:e.jsxs(i,{color:"error",children:["Error: ",p]})}):e.jsx(me,{theme:te,children:e.jsxs(C,{sx:{display:"flex"},children:[e.jsx(ve,{}),e.jsx(ue,{}),e.jsxs(ge,{maxWidth:"lg",sx:{mt:4},children:[e.jsx(G,{children:e.jsxs(q,{children:[e.jsxs(C,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsxs(i,{variant:"h6",children:["Total Applicants: ",r.length]}),e.jsxs(C,{children:[e.jsx(fe,{placeholder:"Search Applicants",variant:"outlined",size:"small",sx:{mr:2},InputProps:{startAdornment:e.jsx(he,{})}}),e.jsx(ye,{children:e.jsx(xe,{})})]})]}),e.jsx(W,{}),_?e.jsx(X,{container:!0,spacing:2,children:r.map(o=>e.jsx(X,{item:!0,xs:12,children:e.jsx(G,{variant:"outlined",sx:{mb:2},children:e.jsxs(q,{children:[e.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(F,{src:`https://www.interview-insights.site${o.job_seeker.profile_photo}`,alt:o.job_seeker.user.full_name,sx:{mr:2}}),e.jsx(i,{variant:"body1",children:o.job_seeker.user.full_name})]}),e.jsxs(Q,{value:o.status||"N/A",onChange:b=>T(o.id,b.target.value),variant:"outlined",fullWidth:!0,sx:{mt:2},children:[e.jsx(v,{value:"applied",children:"Applied"}),e.jsx(v,{value:"reviewed",children:"Reviewed"}),e.jsx(v,{value:"interview_scheduled",children:"Interview Scheduled"}),e.jsx(v,{value:"interviewed",children:"Interviewed"}),e.jsx(v,{value:"hired",children:"Hired"}),e.jsx(v,{value:"rejected",children:"Rejected"})]}),e.jsx(f,{variant:"outlined",onClick:()=>k(o.resume),sx:{mt:2},children:"See Application"}),e.jsx(f,{variant:"contained",color:"primary",onClick:()=>l(`/schedule-interview/${o.id}`),sx:{mt:2,ml:1},children:"Schedule Interview"}),e.jsx(f,{onClick:()=>g(o.job_seeker.user.id),sx:{mt:2,ml:1},children:" Chat"}),e.jsx(f,{onClick:()=>P(o),sx:{mt:2,ml:1},children:"Profile"})]})})},o.id))}):e.jsx(qe,{component:Ce,children:e.jsxs(He,{children:[e.jsx(Ze,{children:e.jsxs(se,{children:[e.jsx(j,{children:"Full Name"}),e.jsx(j,{children:"Hiring Stage"}),e.jsx(j,{children:"Applied Date"}),e.jsx(j,{children:"Schedule"}),e.jsx(j,{children:"Action"}),e.jsx(j,{children:"Chat"}),e.jsx(j,{children:"Profile"})]})}),e.jsx(Ie,{children:r.map(o=>e.jsxs(se,{children:[e.jsx(j,{children:e.jsxs(C,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(F,{src:`https://www.interview-insights.site${o.job_seeker.profile_photo}`,alt:o.job_seeker.user.full_name,sx:{mr:2,width:40,height:40}}),o.job_seeker.user.full_name]})}),e.jsx(j,{children:e.jsxs(Q,{value:o.status||"N/A",onChange:b=>T(o.id,b.target.value),variant:"outlined",children:[e.jsx(v,{value:"applied",children:"Applied"}),e.jsx(v,{value:"reviewed",children:"Reviewed"}),e.jsx(v,{value:"interview_scheduled",children:"Interview Scheduled"}),e.jsx(v,{value:"interviewed",children:"Interviewed"}),e.jsx(v,{value:"hired",children:"Hired"}),e.jsx(v,{value:"rejected",children:"Rejected"})]})}),e.jsx(j,{children:new Date(o.applied_at).toLocaleDateString()}),e.jsx(j,{children:e.jsx(f,{variant:"outlined",onClick:()=>k(o.resume),children:"See Application"})}),e.jsx(j,{children:e.jsx(f,{variant:"contained",color:"primary",onClick:()=>l(`/schedule-interview/${o.id}`),children:"Schedule Interview"})}),e.jsx(j,{children:e.jsx(f,{onClick:()=>g(o.job_seeker.user.id),children:" Chat"})}),e.jsx(j,{children:e.jsx(f,{onClick:()=>P(o),children:"Profile"})})]},o.id))})]})})]})}),e.jsxs(_e,{open:c,onClose:y,fullWidth:!0,maxWidth:"sm",children:[e.jsx(Te,{children:"Applicant Profile"}),e.jsx(ke,{children:a&&e.jsxs("div",{children:[e.jsxs(C,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(F,{src:`https://www.interview-insights.site${a.job_seeker.profile_photo}`,alt:a.job_seeker.user.full_name,sx:{mr:2,width:80,height:80}}),e.jsx(i,{variant:"h6",children:a.job_seeker.user.full_name})]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Email:"})," ",a.job_seeker.user.email]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Phone Number:"})," ",a.job_seeker.phone_number]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Date of Birth:"})," ",new Date(a.job_seeker.date_of_birth).toLocaleDateString()]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Bio:"})," ",a.job_seeker.bio]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"LinkedIn:"})," ",a.job_seeker.linkedin_url||"N/A"]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Portfolio:"})," ",a.job_seeker.portfolio_url||"N/A"]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Current Job Title:"})," ",a.job_seeker.current_job_title]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Job Preferences:"})," ",a.job_seeker.job_preferences]}),e.jsx(i,{variant:"h6",style:{marginTop:"16px"},children:"Work Experience"}),a.job_seeker.work_experience&&a.job_seeker.work_experience.length>0?a.job_seeker.work_experience.map(o=>e.jsxs("div",{children:[e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Job Title:"})," ",o.job_title]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Company:"})," ",o.company_name]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Location:"})," ",o.company_location]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Start Date:"})," ",new Date(o.start_date).toLocaleDateString()]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"End Date:"})," ",new Date(o.end_date).toLocaleDateString()||"Present"]}),e.jsx(W,{style:{margin:"10px 0"}})]},o.id)):e.jsx(i,{variant:"body1",children:"No work experience available."}),e.jsx(i,{variant:"h6",style:{marginTop:"16px"},children:"Skills"}),a.job_seeker.skills&&a.job_seeker.skills.length>0?a.job_seeker.skills.map(o=>e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:o.skill_name})," - ",o.proficiency_level]},o.id)):e.jsx(i,{variant:"body1",children:"No skills available."}),e.jsx(i,{variant:"h6",style:{marginTop:"16px"},children:"Interview Feedback"}),a.job_seeker.interview_feedback&&a.job_seeker.interview_feedback.length>0?a.job_seeker.interview_feedback.filter(o=>o.is_approved).map(o=>{var z,O;(z=a.job_seeker.interview_schedule)==null||z.find(L=>L.id===o.interview_schedule);const b=(O=a.job_seeker.myapplications)==null?void 0:O.find(L=>L.id===a.id),w=b?b.job_details:null,I=w?w.company:null;return e.jsxs("div",{children:[e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Stage:"})," ",o.stage]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Feedback:"})," ",o.feedback]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Provided At:"})," ",new Date(o.provided_at).toLocaleDateString()]}),w&&I&&e.jsxs("div",{children:[e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Job Title:"})," ",w.title]}),e.jsxs(i,{variant:"body1",children:[e.jsx("strong",{children:"Company:"})," ",I.name]})]}),e.jsx(W,{style:{margin:"10px 0"}})]},o.id)}):e.jsx(i,{variant:"body1",children:"No feedback available."})]})}),e.jsx(we,{children:e.jsx(f,{onClick:y,children:"Close"})})]})]})]})})};export{Ps as default};
