import{r as n,u as y,a as C,b as w,j as e,L as m,l as E,s as A,c as L}from"./index-BuDq0VN2.js";import{G as S}from"./GoogleLoginButton-CLbExeQS.js";import{C as D}from"./Container-BDowMDuQ.js";import{B as s,T as d}from"./Box-D4Iyw3ax.js";import{A as P}from"./Avatar-5aUMRmX0.js";import{P as k}from"./List-PCwE5sTY.js";import{T as f}from"./TextField-ClPxK9TD.js";import{B}from"./Button-Ijr_skZA.js";import{C as T}from"./CircularProgress-DLWFtkyj.js";import{L as g}from"./Link-BfB3DbMR.js";import{S as W}from"./Snackbar-BQgAG4_7.js";import{A as F}from"./Alert-BbxIR2LZ.js";import{A as I}from"./AlertTitle-oCp9j-bF.js";import"./useThemeProps-BnAopnt4.js";import"./useSlot-D5VkorTS.js";import"./IconButton-B-1ZqtN_.js";const G=()=>{const[i,j]=n.useState({email:"",password:""}),l=y(),r=C(),{loading:c,error:t,role:a}=w(o=>o.auth),[v,p]=n.useState(!1),h=o=>{j({...i,[o.target.name]:o.target.value})},b=async o=>{o.preventDefault(),l(E(i)).then(x=>{x.payload&&l(A(x.payload))})};n.useEffect(()=>{a&&(a==="jobseeker"?r("/dashboard/jobseeker"):a==="employer"?r("/EmployerCompanyManagement"):a==="recruiter"?r("/dashboard/recruiter"):a==="admin"&&r("/admindashboard"))},[a,r]),n.useEffect(()=>{t&&(p(!0),t.detail==="Email not verified"&&r("/verify-otp"))},[t,r]);const u=()=>{p(!1),l(L())};return e.jsxs(D,{component:"main",maxWidth:"xs",children:[e.jsxs(s,{sx:{mt:8,textAlign:"center"},children:[e.jsx(m,{to:"/",style:{textDecoration:"none"},children:e.jsx(P,{src:"/logo.PNG",sx:{width:56,height:56,margin:"auto"}})}),e.jsx(d,{component:"h1",variant:"h5",sx:{mt:2},children:"Welcome to Interview Insights"})]}),e.jsx(s,{sx:{mt:2},children:e.jsxs(k,{elevation:3,sx:{p:4},children:[e.jsx(s,{sx:{mt:2},children:e.jsx(S,{})}),e.jsx(d,{component:"h2",variant:"h6",align:"center",sx:{mb:2},children:"Login"}),e.jsxs(s,{component:"form",onSubmit:b,sx:{mt:1},children:[e.jsx(f,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:i.email,onChange:h}),e.jsx(f,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:i.password,onChange:h}),e.jsx(B,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:c,children:c?e.jsx(T,{size:24}):"Login"})]}),e.jsx(s,{sx:{mt:2,textAlign:"center"},children:e.jsxs(d,{variant:"body2",children:[e.jsx(g,{component:m,to:"/forgot-password",variant:"body2",children:"Forgot Password?"}),e.jsx("br",{}),"Don't have an account?"," ",e.jsx(g,{component:m,to:"/signup",variant:"body2",children:"Sign up"})]})})]})}),e.jsx(W,{open:v,autoHideDuration:5e3,onClose:u,anchorOrigin:{vertical:"top",horizontal:"left"},children:e.jsxs(F,{onClose:u,severity:"error",sx:{width:"100%"},children:[e.jsx(I,{children:"Error"}),t!=null&&t.detail?t.detail:""]})})]})},ee=()=>e.jsx("div",{children:e.jsx(G,{})});export{ee as default};
