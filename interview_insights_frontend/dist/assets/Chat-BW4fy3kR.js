import{u,b as a,r as h,aq as g,j as e,R as b,ar as j}from"./index-J2xxeE2N.js";import{C}from"./CircularProgress-BaOeWqe6.js";import{T as o,B as m}from"./Box-2EZvwz9W.js";import{C as v}from"./Container-C73eI--9.js";import{T as R}from"./TextField-Dj-uqgdr.js";import{L as w,P as d}from"./List-Crv-AMfh.js";import{L as k}from"./ListItem-CYTsximf.js";import{A as y}from"./Avatar-Bzu9C8TI.js";import{D as _}from"./Divider-Bbh_Sg7L.js";import L from"./ChatRoom-Dx2TUcxy.js";import{N as P}from"./Navbar-DAE5WdM7.js";import{G as i}from"./Grid-DPvlPoOn.js";import"./useThemeProps-CecoWqWg.js";import"./useSlot-DjSVOwAp.js";import"./dividerClasses-DeXJvDpw.js";import"./notificationWebSocket-Bz6speR7.js";import"./ThemeProvider-CbblFg2i.js";import"./Button-D-a4c05H.js";import"./NotificationList-Dbc4L4AY.js";import"./ExitToApp-C2hiHQ2V.js";import"./MenuItem-DU2WvwMi.js";import"./listItemTextClasses-B36Gu8in.js";import"./IconButton-BFzHdMR-.js";import"./Snackbar-DYgHkpCY.js";const D=()=>{const s=u(),x=a(r=>r.chat.chatRooms),n=a(r=>r.chat.status),l=a(r=>r.auth.user),[c,f]=h.useState("");h.useEffect(()=>{s(g())},[s]);const p=x.filter(r=>(r.jobseeker.id===l.id?r.employer:r.jobseeker).full_name.toLowerCase().includes(c.toLowerCase()));return n==="loading"?e.jsx(C,{}):n==="failed"?e.jsx(o,{color:"error",children:"Error loading chat rooms"}):e.jsxs(v,{sx:{height:"100vh",padding:2,backgroundImage:"url('https://example.com/your-background-image.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx(o,{variant:"h5",gutterBottom:!0,sx:{textAlign:"center",fontWeight:"bold",color:"#333"},children:"Chats"}),e.jsx(R,{variant:"outlined",placeholder:"Search Chats...",fullWidth:!0,margin:"normal",value:c,onChange:r=>f(r.target.value),sx:{bgcolor:"white",borderRadius:"5px"}}),e.jsx(w,{sx:{width:"100%",maxWidth:360,bgcolor:"rgba(255, 255, 255, 0.8)",borderRadius:"10px",overflow:"auto"},children:p.map(r=>{const t=r.jobseeker.id===l.id?r.employer:r.jobseeker;return e.jsxs(b.Fragment,{children:[e.jsxs(k,{button:!0,onClick:()=>s(j(r)),sx:{borderRadius:"10px",bgcolor:"#fff",mb:1,padding:1,"&:hover":{bgcolor:"#f1f1f1"}},children:[e.jsx(y,{src:`http://localhost:8000${t.profile_photo}`,alt:t.full_name,sx:{width:56,height:56,mr:2}}),e.jsxs(m,{sx:{flexGrow:1,padding:0},children:[e.jsx(o,{variant:"h6",sx:{fontWeight:"bold"},children:t.full_name}),r.last_message&&e.jsx(o,{variant:"body2",color:"textSecondary",children:r.last_message.content.length>30?`${r.last_message.content.slice(0,30)}...`:r.last_message.content})]})]}),e.jsx(_,{sx:{bgcolor:"#e0e0e0"}})]},r.id)})})]})},ee=()=>e.jsxs(m,{sx:{display:"flex",flexDirection:"column",height:"100vh",bgcolor:"#f0f0f0"},children:[e.jsx(P,{}),e.jsxs(i,{container:!0,spacing:0,sx:{flexGrow:1},children:[e.jsx(i,{item:!0,xs:4,sx:{borderRight:"1px solid #ddd",height:"100%"},children:e.jsx(d,{sx:{height:"100%",display:"flex",flexDirection:"column",p:2,bgcolor:"#ffffff",overflowY:"auto"},children:e.jsx(D,{})})}),e.jsx(i,{item:!0,xs:8,sx:{height:"100%"},children:e.jsx(d,{sx:{height:"100%",display:"flex",flexDirection:"column",p:2,bgcolor:"#ffffff",overflowY:"auto",flexGrow:1},children:e.jsx(L,{})})})]})]});export{ee as default};
